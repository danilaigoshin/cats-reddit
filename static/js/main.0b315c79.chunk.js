(this.webpackJsonpcatsreddit=this.webpackJsonpcatsreddit||[]).push([[0],{28:function(t,e,a){},61:function(t,e,a){"use strict";a.r(e);var c=a(2),n=a(19),i=a.n(n),r=(a(28),a(23)),d=a(7),s=a.n(d),o=a(20),l=a(8),u=a(21),b=a.n(u),j=a(22),p=a.n(j),v=a(0),_=function(t){var e=t.post,a=t.postsHandler,c=t.buttonTitle;return Object(v.jsx)(v.Fragment,{children:"self"!==e.data.thumbnail&&"default"!==e.data.thumbnail&&Object(v.jsxs)("div",{className:"post-block",children:[Object(v.jsx)("h2",{className:"post-block__title",children:e.data.title}),!e.data.media&&e.data.url_overridden_by_dest&&(e.data.url_overridden_by_dest.includes("jpg")||e.data.url_overridden_by_dest.includes("png"))&&Object(v.jsx)("div",{className:"post-block__img",children:Object(v.jsx)("img",{src:e.data.url_overridden_by_dest,alt:e.data.title})}),!e.data.media&&e.data.gallery_data&&Object(v.jsx)("div",{className:"post-block__img",children:Object(v.jsx)("img",{src:e.data.thumbnail,alt:e.data.title})}),e.data.preview&&e.data.preview.reddit_video_preview&&e.data.preview.reddit_video_preview.fallback_url&&Object(v.jsx)("div",{className:"post-block__video",children:Object(v.jsx)("video",{controls:!0,width:"100%",children:Object(v.jsx)("source",{src:e.data.preview.reddit_video_preview.fallback_url,type:"video/mp4"})})}),e.data.media&&e.data.media.reddit_video&&Object(v.jsx)("div",{className:"post-block__video",children:Object(v.jsx)("video",{controls:!0,width:"100%",children:Object(v.jsx)("source",{src:e.data.media.reddit_video.fallback_url,type:"video/mp4"})})}),Object(v.jsx)("div",{className:"post-block__button",children:Object(v.jsx)("button",{onClick:function(){return a(e)},className:"button",children:c})})]})})},m=function(t){var e=t.posts,a=t.postsHandler,c=t.buttonTitle,n=t.title;return Object(v.jsxs)("div",{className:"content__items",children:[Object(v.jsx)("h2",{children:n}),e.map((function(t){return Object(v.jsx)(_,{post:t,postsHandler:a,buttonTitle:c},t.data.id)})),!e.length&&Object(v.jsx)("p",{children:"\u041d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432"})]})},f=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),a=e[0],n=e[1],i=Object(c.useState)([]),d=Object(l.a)(i,2),u=d[0],j=d[1],_=Object(c.useRef)(7),f=function(){var t=Object(o.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://www.reddit.com/r/cats/.json?limit=".concat(_.current));case 2:e=t.sent,n(e.data.data.children),_.current+=4;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[]);var O=p()((function(t){t.target.scrollHeight-t.target.scrollTop<t.target.clientHeight+300&&f()}),200),h=Object(c.useCallback)(O,[O]);return Object(c.useEffect)((function(){return document.body.addEventListener("scroll",h),function(){document.body.removeEventListener("scroll",h)}}),[h]),Object(v.jsxs)("div",{className:"container",children:[a&&Object(v.jsx)(m,{posts:a,postsHandler:function(t){u.find((function(e){return e.data.id===t.data.id}))||j((function(e){return[t].concat(Object(r.a)(e))}))},title:"\u041f\u043e\u0441\u0442\u044b",buttonTitle:"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),u&&Object(v.jsx)(m,{posts:u,postsHandler:function(t){j((function(e){return e.filter((function(e){return e.data.id!==t.data.id}))}))},title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",buttonTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})};i.a.render(Object(v.jsx)(f,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.0b315c79.chunk.js.map